{% comment %}
Usage:
  {% include post-card.html post=post %}
Requires in post front matter:
  cover: assets/images/covers/xxx.jpg
  excerpt: "..."
Optional:
  author: "Don't Waste My Time ðŸ‘‘"
  views: 0
  comments: 0
{% endcomment %}

{% assign p = include.post %}
{% assign words = p.content | number_of_words %}
{% assign wpm = site.words_per_minute | default: 200 %}
{% assign minutes = words | divided_by: wpm | plus: 1 %}
{% assign author = p.author | default: site.title %}

<article class="post-card">
  <div class="post-media">
    {% if p.cover %}
      <img src="{{ p.cover | relative_url }}" alt="Cover of {{ p.title }}">
    {% else %}
      <div class="cover-placeholder">No cover</div>
    {% endif %}
  </div>

  <div class="post-body">
    <div class="post-top">
      <div class="post-meta">
        <span class="avatar">D</span>
        <span>{{ author }}</span>
      </div>
  
      <div class="post-submeta">
        <span class="post-date">{{ p.date | date: "%d.%m.%Y" }}</span>
        <span class="dot">Â·</span>
        <span class="post-readtime">{{ minutes }} Min. Lesezeit</span>
      </div>
  
      <h2 class="post-title">
        <a href="{{ p.url | relative_url }}">{{ p.title }}</a>
      </h2>
  
      {% if p.excerpt %}
        <p class="post-excerpt">{{ p.excerpt }}</p>
      {% endif %}
    </div>
  
    <div class="post-footer">
      <span>{{ p.views | default: 0 }} Ansichten</span>
      <span>{{ p.comments | default: 0 }} Kommentare</span>
    </div>
  </div>
</article>
